# CodeWiki - å…¨å±€é¡¹ç›®ä¸Šä¸‹æ–‡ä¸å¼€å‘è€…æŒ‡å—

CodeWiki æ˜¯ä¸€ä¸ªç”¨äºè¯„ä¼°å’Œç”Ÿæˆå¤§å‹ä»£ç åº“å…¨æ™¯æ–‡æ¡£çš„ AI é©±åŠ¨æ¡†æ¶ã€‚æœ¬é¡¹ç›®é€šè¿‡**å¤šè¯­è¨€ä»£ç è§£æ**ã€**æ¶æ„æ„ŸçŸ¥çš„æ¨¡å—åˆ’åˆ†**ä»¥åŠ**å¤šæ™ºèƒ½ä½“ï¼ˆMulti-Agentï¼‰é€’å½’ç”Ÿæˆ**ï¼Œä¸ºä»£ç åº“æ„å»ºç»“æ„åŒ–çš„æ–‡æœ¬åŠå¯è§†åŒ–æ–‡æ¡£ï¼ˆå¦‚ï¼šMermaid æ¶æ„å›¾ã€æ•°æ®æµå›¾ç­‰ï¼‰ã€‚

æœ¬æ–‡æ¡£ä¸»è¦é¢å‘æ–°æ¥æ‰‹å‚ä¸æ­¤é¡¹ç›®çš„ **AI Agent** å’Œ **äººç±»å¼€å‘è€…**ï¼Œæä¾›å¿«é€Ÿç†è§£ç³»ç»Ÿæ ¸å¿ƒã€é¡¹ç›®æ¶æ„ã€æ‰©å±•æ–¹å¼ä¸å¼€å‘è§„èŒƒçš„å…¨å±€ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚

## 1. æ ¸å¿ƒæŠ€æœ¯æ ˆä¸æ¶æ„è®¾è®¡

- **ä¸»è¦è¯­è¨€**: Python 3.12+ 
- **æ ¸å¿ƒä¾èµ–**:
  - `tree-sitter`: æä¾›7ç§ä¸»æµè¯­è¨€çš„ AST è§£æã€‚
  - `pydantic` & `pydantic-ai`: ç”¨äºæ•°æ®æ¨¡å‹éªŒè¯å’Œ Agent æ„å»ºã€‚
  - `litellm` & `openai`: ç»Ÿä¸€çš„ LLM æ¥å£æ”¯æŒï¼ˆClaude/GPT ç­‰å¤šæ¨¡å‹è°ƒåº¦ï¼‰ã€‚
  - `click`: å¼ºå¤§è€Œçµæ´»çš„å‘½ä»¤è¡Œç•Œé¢æ„å»ºã€‚
  - `FastAPI`: æä¾›æ–‡æ¡£ç»“æœçš„å±•ç¤ºåå°ä¸ Web æ¥å£æœåŠ¡ã€‚
- **ç³»ç»Ÿæ•°æ®æµæ¶æ„**:
  `ä»£ç åº“æ ‘åˆ†æ` -> `æŠ½è±¡è¯­æ³•æ ‘ AST è§£æ` -> `ä¾èµ–å…³ç³»å›¾æå–` -> `å±‚æ¬¡åŒ–èšç±»ç®—æ³•åˆ†è§£` -> `æ„å»ºæ¨¡å—æ ‘` -> `é€’å½’ Agent æ™ºèƒ½ç”Ÿæˆæ–‡æ¡£` -> `åˆæˆå¤šç»´åº¦å…¨å±€æ–‡æ¡£ (Markdown + äº¤äº’è§†å›¾)`

## 2. é¡¹ç›®æ ¸å¿ƒæ¨¡å—ä¸ç›®å½•ç»“æ„

```text
codewiki/
â”œâ”€â”€ codewiki/                 # æ ¸å¿ƒä»£ç åŒ…
â”‚   â”œâ”€â”€ cli/                  # å‘½ä»¤è¡Œäº¤äº’å·¥å…·ï¼ˆCLIï¼‰
â”‚   â”‚   â”œâ”€â”€ commands/         # å­å‘½ä»¤å®šä¹‰ï¼ˆconfig, generateï¼‰
â”‚   â”‚   â”œâ”€â”€ models/           # é…ç½®ç›¸å…³çš„æ•°æ®æ¨¡å‹å±‚
â”‚   â”‚   â””â”€â”€ adapters/         # å¤–éƒ¨æœåŠ¡é›†æˆé€‚é…
â”‚   â”œâ”€â”€ src/                  # ç³»ç»Ÿæ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ be/               # åç«¯ï¼šä¾èµ–åˆ†æå¼•æ“ä¸ Agent ç¼–æ’ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ dependency_analyzer/ # å¤šè¯­è¨€æºä»£ç  AST è§£æå™¨ï¼ˆBaseAnalyzer åŠå„è¯­è¨€å­ç±»ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ cluster_modules.py   # åŸºäºåŠŸèƒ½ä¸æ‹“æ‰‘çº§è”å…³ç³»çš„æ¨¡å—èšç±»å¼•æ“
â”‚   â”‚   â”‚   â”œâ”€â”€ agent_orchestrator.py# ä¸­å¿ƒåŒ–è°ƒåº¦ Agent å·¥ä½œæµçš„ç¼–æ’æ ¸å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ agent_tools/         # ä¾› LLM Agent è°ƒç”¨çš„å·¥å…·å‡½æ•°é›†åˆï¼ˆå¦‚è§£ææ–‡ä»¶ã€è¯»å–èŠ‚ç‚¹ç­‰ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ prompt_template.py   # LLM Prompt ç³»ç»Ÿæç¤ºè¯é›†ä¸­ç®¡ç†
â”‚   â”‚   â””â”€â”€ fe/               # å‰ç«¯ï¼šç»“æœå±•ç¤ºå’Œ Web æœåŠ¡åå°
â”‚   â”‚       â”œâ”€â”€ web_app.py           # FastAPI æœåŠ¡å™¨æ ¸å¿ƒé€»è¾‘
â”‚   â”‚       â””â”€â”€ visualise_docs.py    # æ–‡æ¡£æ•°æ®å¯è§†åŒ–å±‚
â”‚   â”œâ”€â”€ templates/            # Web ç«¯æ¸²æŸ“äº¤äº’ç»„ä»¶çš„ç•Œé¢æ¨¡æ¿
â”‚   â””â”€â”€ run_web_app.py        # ç‹¬ç«‹å¯åŠ¨ Web æœåŠ¡çš„å…¥å£ç‚¹
â”œâ”€â”€ docs/                     # ç”Ÿæˆå®Œæ¯•çš„æ–‡æ¡£ç›®å½•ç¤ºä¾‹åŠå¯¼å‡ºå†…å®¹
â”œâ”€â”€ docker/                   # å®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆé…ç½®
â”œâ”€â”€ pyproject.toml            # Python æ ¸å¿ƒä¾èµ–åŠå…ƒæ•°æ®å®šä¹‰æ–‡ä»¶
â”œâ”€â”€ pytest.ini                # Pytest æµ‹è¯•æ¡†æ¶é…ç½®å‚æ•°
â””â”€â”€ DEVELOPMENT.md            # è‹±æ–‡ç‰ˆçš„æ ‡å‡†å¼€å‘è€…æŒ‡å—
```

## 3. å…³é”®è®¾è®¡æ¨¡å¼ä¸æŠ½è±¡æœºåˆ¶

ä¸ºäº†åº”å¯¹å¤šè¯­è¨€ä»£ç çš„è§£æåŠå…¶ç”Ÿæˆé€»è¾‘ä¸­çš„ä¸ç¡®å®šæ€§å› ç´ ï¼Œé¡¹ç›®æŠ½è±¡å‡ºä»¥ä¸‹å‡ ä¸ªå…³é”®æ€§æ¶æ„è®¾è®¡ï¼š

1. **ç­–ç•¥æ¨¡å¼ä¸å¤šæ€è§£æï¼ˆStrategy Patternï¼‰**:
   å¤šè¯­è¨€çš„ AST è§£æèƒ½åŠ›ç”± `src/be/dependency_analyzer/analyzers/base.py` ä¸­å®šä¹‰çš„æŠ½è±¡åŸºç±» `BaseAnalyzer` æä¾›ã€‚æ¯ç§å—æ”¯æŒçš„ç¼–ç¨‹è¯­è¨€éƒ½ä¼šé€šè¿‡ç»§æ‰¿è¯¥ç±»æ¥å®ç°è‡ªèº«å›ºæœ‰çš„è¯­è¨€æ ‘é€»è¾‘ã€‚ç›¸å…³æ³¨å†Œç‚¹ä½äº `ast_parser.py` çš„è§£æå­—å…¸å†…ï¼Œè¾¾æˆè¯­è¨€æ‰©å……ä¸ä¸»æµç¨‹çš„è§£è€¦åŒ–ã€‚
2. **å±‚æ¬¡åŒ–å½’å¹¶æ˜ å°„è®¾è®¡ï¼ˆHierarchical Clusteringï¼‰**:
   åˆ©ç”¨ `cluster_modules.py` å°†å¤§å‹ä»£ç åº“æ‹†è§£æˆ LLM å½“å‰ Context Window æ˜“äºç†è§£çš„å°å‹å¶å­èŠ‚ç‚¹ï¼ˆLeaf modulesï¼‰ã€‚è¯¥åˆ†ç°‡ç³»ç»Ÿåœ¨å…¼é¡¾ Token ç®¡æ§ä¸Šé™çš„åŒæ—¶ï¼Œèƒ½ä¿æŒæå¼ºçš„é¡¹ç›®ä¸Šä¸‹æ¸¸é€»è¾‘è¿è´¯æ€§å’Œå±‚çº§ç»“æ„ã€‚
3. **é€’å½’å¤šæ™ºèƒ½ä½“æœºåˆ¶ï¼ˆRecursive Multi-Agent Systemï¼‰**:
   åœ¨æ ¸å¿ƒç¼–æ’å¼•æ“ `agent_orchestrator.py` é‡Œï¼Œç¨‹åºä¼šåŠ¨æ€è¯„ä¼°å„ä¸ªè§£ææ¨¡å—çš„å†…éƒ¨å¤æ‚åº¦ã€‚å½“æŸåŠŸèƒ½èŠ‚ç‚¹ä½“é‡å¼‚å¸¸æ—¶ï¼Œä¸» Agent ç¨‹åºä¼šé€’å½’å®ä¾‹åŒ–å’Œå§”æ´¾ï¼ˆDelegationï¼‰ å­ Agents è¿›è¡Œå¤„ç†ï¼Œå¤„ç†å®Œæ¯•åé€šè¿‡èšç±»æ•´åˆè¿”å›ç»“æœã€‚

## 4. å¦‚ä½•è¿›è¡ŒäºŒæ¬¡å¼€å‘ä¸æ‰©å±• (Extension Guide)

### åœºæ™¯ Aï¼šæ·»åŠ æ–°è¯­è¨€è§£ææ”¯æŒ
ç³»ç»Ÿå¤©ç„¶å†…ç½®è‰¯å¥½çš„æ‰©å±•é—­ç¯ï¼Œå¦‚éœ€æ³¨å…¥æ–°è¯­è¨€ï¼š
1. å‰å¾€ `codewiki/src/be/dependency_analyzer/analyzers` æ–°å»ºæ–°è¯­è¨€åˆ†æå™¨ï¼ˆå¦‚ `php_analyzer.py`ï¼‰ã€‚
2. åœ¨è¯¥ç±»ä½“å†…ç»§æ‰¿ `BaseAnalyzer` å¹¶å®ç°ä¸¤å¤§æ ¸å¿ƒæ–¹æ³•ï¼š
   - `extract_dependencies(self, ast_node)`
   - `extract_components(self, ast_node)`
3. è·³è½¬è‡³ `src/be/dependency_analyzer/ast_parser.py` ä¸­çš„ `LANGUAGE_ANALYZERS` å­—å…¸é‡Œï¼Œä»¥é”®å€¼å¯¹å½¢å¼æŒ‚è½½æ–°å»ºçš„è§£æç±»ã€‚
4. ï¼ˆå¯é€‰ï¼‰åœ¨ `pyproject.toml` çš„é¡¹ç›®ä¾èµ–è¡¨ä¸­åŠ å…¥æ–°è¯­è¨€ç›¸åº”çš„ `tree-sitter-[lang]` ç»„ä»¶å¹¶æ›´æ–°ç¯å¢ƒã€‚

### åœºæ™¯ Bï¼šå¢åŠ è‡ªå®šä¹‰çš„ CLI Agent æ§åˆ¶æŒ‡ä»¤
1. äº `cli/models/config.py` ä¸­çš„ `AgentInstructions` `dataclass` ç±»å‹ä¸‹æ·»åŠ å¯¹åº”åŠŸèƒ½æ‰€éœ€çš„æ–°å˜é‡å­—æ®µã€‚
2. æ›´æ–°è¯¥é…ç½®ç»“æ„çš„ä¸²è¡ŒåŒ–ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆæ¶‰åŠ `to_dict` ä¸ `from_dict` ç­‰ï¼‰ã€‚
3. å‰å¾€ `cli/commands/generate.py` ä½¿ç”¨ `@click.option` å°†æ–°åŠŸèƒ½æš´éœ²è‡³ç»ˆç«¯ç¯å¢ƒã€‚
4. è¡¥é½æ¶ˆè´¹ä¾§é€»è¾‘ï¼šç¡®ä¿åæ–¹ä¸šåŠ¡é€»è¾‘ï¼Œæˆ–æ˜¯ç³»ç»Ÿæç¤ºè¯ä¸­æ­£ç¡®å“åº”æ–°å¢åŠ å­—æ®µã€‚

## 5. é¡¹ç›®å¼€å‘è§„èŒƒ (Development Guidelines)

- **Python ä»£ç é£æ ¼é£æ ¼**: ä¸¥æ ¼éµå¾ª PEP-8ï¼›æ¨èé›†æˆå¹¶ä½¿ç”¨ `black` è‡ªåŠ¨åŒ–æ ¼å¼ï¼ˆ`line-length = 100`ï¼‰ä»¥åŠ `ruff` ä»£ç  Linterã€‚
- **ç±»å‹æç¤º (Type Hints)**: æ‰€æœ‰å‡½æ•°å‚æ•°åŠè¿”å›å€¼å‡æ¨èå¯ç”¨æ˜¾å¼ç±»å‹æ³¨è§£ï¼Œé€šè¿‡ `mypy` è§„é¿è¿è¡Œæ—¶åŠ¨æ€é”™è¯¯ã€‚
- **æ–‡æ¡£ç»´æŠ¤**: æš´éœ²åœ¨å¤–çš„æ ¸å¿ƒ Class æˆ– Utility å¿…é¡»æ’°å†™åŒ…å«è¾“å…¥è¾“å‡ºè¯¦å°½è¯´æ˜çš„ docstringsã€‚
- **æµ‹è¯•æäº¤æµç¨‹**: é›†æˆäº†å®Œå–„çš„å•å…ƒæµ‹è¯•å¥—ä»¶ï¼Œæ–°åˆ†æ”¯æäº¤å¿…é¡»ç¡®ä¿æ‰€æœ‰ `pytest` ç”¨ä¾‹è¿è¡Œå®Œæ¯•ä¸”è¦†ç›–ç‡æœªæ»‘å¡ã€‚

## 6. æ„å»ºä¸å®‰è£…è¯´æ˜

### ç¯å¢ƒå‡†å¤‡å·¥ä½œ
- éœ€å‡†å¤‡ **Python 3.12** åŠä»¥ä¸Šç‰ˆæœ¬ã€‚
- éœ€å…·å¤‡ **Node.js** çš„æ‰§è¡Œç¯å¢ƒï¼ˆ>= 14.0ï¼Œä¸»è¦ç”¨äºç¡®ä¿è¾“å‡º Mermaid è§£æå›¾è¡¨çš„æ­£ç¡®æ¸²æŸ“æ ¸å®ï¼‰ã€‚

### ä»æºç å®‰è£…è°ƒè¯•
```bash
# 1. ä¸‹è½½æºç å¹¶æ„å»ºçº¯å‡€çš„æ²™ç›’è™šæ‹Ÿç¯å¢ƒ
git clone https://github.com/FSoft-AI4Code/CodeWiki.git
cd CodeWiki
python3.12 -m venv .venv
source .venv/bin/activate  # (Windows: .venv\Scripts\activate)

# 2. å®‰è£…åº“è‡³ Editableï¼ˆå¼€å‘ï¼‰ æ¨¡å¼åŠæ‹‰å–ä¾èµ–
pip install -e .
pip install -r requirements.txt
```

## 7. å¸¸ç”¨è¿è¡Œä¸æµ‹è¯•ä½¿ç”¨æ–¹æ³•

### å¤§æ¨¡å‹åŠç³»ç»Ÿé…ç½®åˆå§‹åŒ–
ä½¿ç”¨ç”Ÿæˆå‰éœ€è¿›è¡Œå¿…è¦çš„ AI Model åŠåŸºå‡†ä»¤ç‰Œï¼ˆTokenï¼‰çš„è·¯ç”±é…ç½®ï¼Œç›®å‰å…¼å®¹æ”¯æŒå…¨éƒ¨ç±» OpenAI æ ¼å¼ã€‚
```bash
codewiki config set \
  --api-key YOUR_API_KEY \
  --base-url {LLM_PROVIDER_HOST} \
  --main-model claude-sonnet-4 \
  --cluster-model claude-sonnet-4 \
  --fallback-models claude-sonnet-4,deepseek-chat
```

ä¹Ÿå¯ä»¥é€šè¿‡ **ç¯å¢ƒå˜é‡** æˆ–ç›´æ¥ç¼–è¾‘ `~/.codewiki/config.json` æ¥é…ç½®ï¼š

```bash
# ç¯å¢ƒå˜é‡ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
export CODEWIKI_API_KEY=sk-...
export CODEWIKI_BASE_URL=https://api.openai.com/v1
export CODEWIKI_MAIN_MODEL=gpt-4o
export CODEWIKI_CLUSTER_MODEL=gpt-4o
```

**API Key ä¼˜å…ˆçº§**ï¼ˆé«˜ â†’ ä½ï¼‰ï¼š
1. `CODEWIKI_API_KEY` ç¯å¢ƒå˜é‡
2. `~/.codewiki/config.json` ä¸­çš„ `api_key` å­—æ®µ
3. ç³»ç»Ÿé’¥åŒ™ä¸²ï¼ˆkeychainï¼‰

éªŒè¯é…ç½®ï¼š
```bash
codewiki config validate         # å®Œæ•´éªŒè¯ï¼ˆå« API è¿é€šæ€§æµ‹è¯•ï¼‰
codewiki config validate --quick  # è·³è¿‡ API è¿é€šæ€§æµ‹è¯•
codewiki config show              # æ˜¾ç¤ºå½“å‰é…ç½®
```

### ä¸šåŠ¡çº§æ–‡æ¡£ä¸€é”®åˆ†æç”Ÿæˆ
```bash
# æ‰§è¡Œæ•´ä¸ªå·¥ç¨‹ä»£ç åˆ†æå¹¶åˆ›å»ºå«æœ‰äº¤äº’é¡µé¢çš„æ–‡æ¡£åˆ†æ”¯
codewiki generate --github-pages --create-branch
```

### CLI Agent æ¨¡å¼ï¼ˆç»•è¿‡ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ï¼‰

é€šè¿‡ `--with-agent-cmd` å°† LLM æç¤ºè¯è·¯ç”±è‡³ CLI Agent å­è¿›ç¨‹ï¼ˆå¦‚ Claude Codeï¼‰ï¼Œ**å®Œå…¨ç»•å¼€ API ä¸Šä¸‹æ–‡çª—å£å’Œç½‘å…³è¶…æ—¶é™åˆ¶**ï¼š

```bash
# ä½¿ç”¨ Claude CLI ä½œä¸ºæ–‡æ¡£ç”Ÿæˆåç«¯
codewiki generate --with-agent-cmd "claude --dangerously-skip-permissions -p"

# æ­é…å¹¶è¡Œå¤„ç†åŠ é€Ÿ
codewiki generate \
  --with-agent-cmd "claude --dangerously-skip-permissions -p" \
  -j 4
```

### å¤šè¯­è¨€ç¿»è¯‘

ç”Ÿæˆæ–‡æ¡£çš„åŒæ—¶è‡ªåŠ¨ç¿»è¯‘ä¸ºæŒ‡å®šè¯­è¨€ï¼š

```bash
# ç”Ÿæˆæ–‡æ¡£ + ä¸­æ–‡ç¿»è¯‘
codewiki generate --output-lang zh

# ç”Ÿæˆæ–‡æ¡£ + æ—¥æ–‡ç¿»è¯‘
codewiki generate --output-lang ja

# æ”¯æŒä»»æ„ BCP-47 è¯­è¨€ä»£ç : zh, zh-tw, ja, ko, fr, de, es â€¦
codewiki generate --output-lang fr
```

ç¿»è¯‘è¾“å‡ºå†™å…¥ `<output-dir>/<lang>/` ç›®å½•ï¼Œä¿æŒç›¸åŒæ–‡ä»¶ç»“æ„ã€‚

### å¹¶è¡Œå¤„ç†

å¶æ¨¡å—ï¼ˆleaf moduleï¼‰ç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥å®‰å…¨å¹¶è¡Œå¤„ç†ï¼š

```bash
# é»˜è®¤: 4 è·¯å¹¶è¡Œ
codewiki generate

# å¢åŠ å¹¶è¡Œæ•°
codewiki generate -j 8

# ä¸²è¡Œæ¨¡å¼ï¼ˆç”¨äº API é™é€Ÿåœºæ™¯ï¼‰
codewiki generate -j 1
```

### æ–­ç‚¹ç»­è·‘

å¦‚æœç”Ÿæˆä¸­é€”ä¸­æ–­ï¼Œé‡æ–°è¿è¡Œç›¸åŒå‘½ä»¤å³å¯è‡ªåŠ¨**ä»ä¸Šæ¬¡è¿›åº¦æ¢å¤**ï¼š

```bash
# ç¬¬ä¸€æ¬¡è¿è¡Œï¼ˆä¸­é€” Ctrl-C ä¸­æ–­ï¼‰
codewiki generate --with-agent-cmd "claude -p"
# ^C

# é‡æ–°è¿è¡Œï¼šè‡ªåŠ¨æ£€æµ‹å·²å®Œæˆçš„æ¨¡å—å¹¶è·³è¿‡
codewiki generate --with-agent-cmd "claude -p"
# å‡ºç°æç¤ºæ—¶é€‰æ‹© [r] Resume
```

è¿›åº¦è¾“å‡ºç¤ºä¾‹ï¼š
```
  [1/24] â†© [skip] LLM Providers        â† å·²å­˜åœ¨ï¼Œè·³è¿‡
  [2/24] â†© [skip] Core Schemas         â† å·²å­˜åœ¨ï¼Œè·³è¿‡
  [3/24] â–¶ [leaf] MCP                  â† æ–°æ¨¡å—ï¼Œå¼€å§‹ç”Ÿæˆ
  [3/24] âœ“ [leaf] MCP (42.1s)          â† å®Œæˆ
```

### åœ¨ç½‘é¡µä¸­æŸ¥çœ‹ç”Ÿæˆçš„æ–‡æ¡£

CodeWiki è¾“å‡ºæ ‡å‡† Markdown æ–‡ä»¶ï¼Œä»¥ä¸‹æ˜¯æ¨èçš„ Web æŸ¥çœ‹æ–¹å¼ï¼š

#### æ–¹å¼ä¸€ â€” å†…ç½® HTML æŸ¥çœ‹å™¨ï¼ˆæœ€å¿«ï¼‰

ç”Ÿæˆæ—¶åŠ ä¸Š `--github-pages` å‚æ•°ï¼Œä¼šåœ¨è¾“å‡ºç›®å½•ç”Ÿæˆä¸€ä¸ªè‡ªåŒ…å«çš„ `index.html`ï¼š

```bash
codewiki generate --github-pages
# ç”¨æµè§ˆå™¨æ‰“å¼€ docs/codewiki/index.html å³å¯
```

#### æ–¹å¼äºŒ â€” GitHub Pagesï¼ˆé›¶é…ç½®åœ¨çº¿æ‰˜ç®¡ï¼‰

```bash
# 1. ç”Ÿæˆå¸¦ HTML æŸ¥çœ‹å™¨çš„æ–‡æ¡£
codewiki generate --github-pages --create-branch

# 2. æ¨é€åˆ° GitHub
git push origin <åˆ†æ”¯å>

# 3. åœ¨ GitHub ä»“åº“ Settings â†’ Pages â†’ é€‰æ‹©æ¨é€çš„åˆ†æ”¯ + /docs/codewiki æ–‡ä»¶å¤¹
# æ–‡æ¡£å°†å‘å¸ƒåˆ°: https://<org>.github.io/<repo>/
```

#### æ–¹å¼ä¸‰ â€” MkDocsï¼ˆç²¾ç¾æœ¬åœ°/è¿œç¨‹ç«™ç‚¹ï¼‰

```bash
pip install mkdocs mkdocs-material

# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º mkdocs.yml
cat > mkdocs.yml << 'EOF'
site_name: æˆ‘çš„é¡¹ç›® Wiki
docs_dir: docs/codewiki
theme:
  name: material
EOF

mkdocs serve          # æœ¬åœ°é¢„è§ˆï¼Œè®¿é—® http://localhost:8000
mkdocs gh-deploy      # è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pages
```

#### æ–¹å¼å›› â€” Docsifyï¼ˆæ— æ„å»ºï¼Œåªéœ€ index.htmlï¼‰

```bash
# åœ¨æ–‡æ¡£ç›®å½•ä¸‹åˆ›å»º index.html
cat > docs/codewiki/index.html << 'EOF'
<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"><title>æ–‡æ¡£</title>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify/themes/vue.css">
</head>
<body>
  <div id="app"></div>
  <script>window.$docsify = { name: 'æˆ‘çš„é¡¹ç›®', loadSidebar: false }</script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>
</body>
</html>
EOF

# æœ¬åœ°è¿è¡Œ
npx serve docs/codewiki
# æˆ–: python3 -m http.server 8000 --directory docs/codewiki
```

#### æ–¹å¼äº” â€” å¿«é€Ÿæœ¬åœ°é¢„è§ˆ

```bash
# Python å†…ç½®ï¼ˆæ— éœ€å®‰è£…ï¼‰
python3 -m http.server 8000 --directory docs/codewiki
# æ‰“å¼€ http://localhost:8000

# æˆ–å®‰è£… gripï¼ˆGitHub é£æ ¼æ¸²æŸ“ï¼‰
pip install grip && grip docs/codewiki/overview.md
```

### æµ‹è¯•åŠæ—¥å¿—è¿½è¸ªç›¸å…³
å¦‚é¢ä¸´è¯­æ³•æ ‘è§£ææŠ¥é”™ã€API ç“¶é¢ˆæŒ‚èµ·ç­‰è¡Œä¸ºï¼Œé€šè¿‡ä¸‹æ–¹æ–¹å¼å®šä½ï¼š
```bash
# è·å–æå…¶è¯¦ç»†çš„ Debugging åˆ†ææµä¿¡æ¯
codewiki generate --verbose
# ï¼ˆæˆ–ï¼‰åœ¨ç»ˆç«¯å®šä¹‰å˜é‡å…¨å±€ç”Ÿæ•ˆ
export CODEWIKI_LOG_LEVEL=DEBUG

# éªŒè¯ä»£ç ç¨³å®šæ€§ï¼Œè¿è¡Œæµ‹è¯•å¤§ç›˜
pytest -v --cov=codewiki --cov-report=term-missing
```

---

> ğŸ’¡ **ç»™æ–°æ¥æ‰‹ AI Agent çš„ç›´æ¥å¯¼è§ˆå»ºè®®**: 
> äº²çˆ±çš„ Agent åä½œè€…ï¼Œåœ¨æ¢ç´¢æ­¤ä»£ç ä»“åº“æ—¶ï¼Œå¼ºæ¨èæ‚¨ç¬¬ä¸€æ—¶é—´èšç„¦äº `src/be/agent_orchestrator.py` çš„å¤š Agent æœºåˆ¶æ‰§è¡Œè·¯çº¿ã€‚å¦‚æœä½ å—åˆ°çš„æŒ‡ä»¤æ¶‰åŠäº†ä¸Šä¸‹æ–‡æ‰©å±•ã€æˆ–æ˜¯é‡ç»„åº•å±‚ Prompt æç¤ºä½“ç³»ï¼Œè¯·æ‚¨æ·±å…¥è§£å‰– `prompt_template.py` å†…éƒ¨å°è£…çš„ç»“æ„ã€ä»¥åŠå®ƒæ˜¯å¦‚ä½•ååŒ `ast_parser.py` è¿›è¡Œè·¨æ¨¡å—ä¼ é€’åˆ†å·¥çš„ã€‚è‹¥è¦å¤„ç†æ¸²æŸ“æ–¹é¢çš„åé¦ˆï¼Œåˆ™ç›´æ¥æŸ¥çœ‹å‰ç«¯ä¸šåŠ¡åŸŸ `src/fe/` ä»¥åŠ `templates/` ä¸‹ç›¸å…³çš„è§†å›¾æœåŠ¡é€»è¾‘ã€‚

---

## é™„å½•ï¼šæ–°å¢ CLI å‚æ•°é€ŸæŸ¥è¡¨

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--with-agent-cmd CMD` | ç”¨ CLI Agent å­è¿›ç¨‹æ›¿ä»£ API è°ƒç”¨ | æ— ï¼ˆä½¿ç”¨ APIï¼‰ |
| `-j N` / `--concurrency N` | å¹¶è¡Œå¤„ç†å¶æ¨¡å—æ•° | 4 |
| `--output-lang LANG` | ç”Ÿæˆåè‡ªåŠ¨ç¿»è¯‘åˆ°æŒ‡å®šè¯­è¨€ | æ—  |
| `--fallback-models M1,M2` | fallback æ¨¡å‹åˆ—è¡¨ï¼ˆé€—å·åˆ†éš”ï¼‰ | åŒ main_model |
| `--output-dir DIR` / `-o DIR` | è¾“å‡ºç›®å½• | `docs/codewiki` |
| `--max-tokens N` | LLM è¾“å‡ºæœ€å¤§ token æ•° | 32768 |
| `--max-token-per-module N` | æ¨¡å—èšç±»è¾“å…¥ token é˜ˆå€¼ | 36369 |
| `--max-token-per-leaf-module N` | å¶æ¨¡å—è¾“å…¥ token é˜ˆå€¼ | 16000 |
| `--max-depth N` | å±‚æ¬¡åˆ†è§£æœ€å¤§æ·±åº¦ | 2 |

---

## é™„å½•ï¼šæ¶æ„æŠ€æœ¯åŸç† Q&A

### Q1: ä»£ç åˆ†æç”Ÿæˆ Wiki çš„å®Œæ•´æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ

CodeWiki é€šè¿‡ **5 ä¸ªé˜¶æ®µ** å°†æºä»£ç è½¬åŒ–ä¸ºå…¨å±€ç»“æ„åŒ–æ–‡æ¡£ï¼š

```
æºä»£ç ä»“åº“
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 1: AST è§£æ + ä¾èµ–å›¾æ„å»º        â”‚  dependency_analyzer/
â”‚   tree-sitter å¤šè¯­è¨€è¯­æ³•æ ‘è§£æ        â”‚  â†’ components + leaf_nodes
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 2: å±‚æ¬¡åŒ–æ¨¡å—èšç±»               â”‚  cluster_modules.py
â”‚   LLM é©±åŠ¨çš„åŠŸèƒ½åˆ†ç»„ï¼ˆé€’å½’åˆ†æ²»ï¼‰      â”‚  â†’ module_tree.json
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 3: å¶æ¨¡å—æ–‡æ¡£ç”Ÿæˆï¼ˆå¯å¹¶è¡Œï¼‰      â”‚  agent_orchestrator.py
â”‚   pydantic-ai Agent / cmd_agent      â”‚  â†’ æ¯ä¸ªå¶æ¨¡å—ä¸€ä¸ª .md
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 4: çˆ¶æ¨¡å— + å…¨å±€æ¦‚è§ˆç”Ÿæˆ         â”‚  documentation_generator.py
â”‚   è‡ªåº•å‘ä¸Šèšåˆå­æ–‡æ¡£ â†’ overview.md    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ 5: åå¤„ç†ï¼ˆç¿»è¯‘ / HTML è§†å›¾ï¼‰    â”‚  --output-lang / --github-pages
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ¨¡å—å…³ç³»å›¾ï¼š**

```
CLI å±‚                          åç«¯ä¸šåŠ¡å±‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

generate.py                     documentation_generator.py
    â”‚                               â”‚ (æ€»ç¼–æ’å™¨)
    â–¼                               â”‚
doc_generator.py â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”œâ†’ dependency_analyzer/
  (æ„å»º Config,                     â”‚     (AST è§£æ + ç»„ä»¶æå–)
   è°ƒç”¨åç«¯,                        â”œâ†’ cluster_modules.py
   å¤„ç†ç¿»è¯‘)                        â”‚     (LLM é©±åŠ¨çš„å±‚æ¬¡èšç±»)
                                    â”œâ†’ agent_orchestrator.py
config_manager.py                   â”‚     (pydantic-ai Agent ç¼–æ’)
  (åŠ è½½/ä¿å­˜é…ç½®,                   â”‚   â”€â”€ æˆ– â”€â”€
   API Key ä¼˜å…ˆçº§)                  â”œâ†’ cmd_agent_orchestrator.py
                                    â”‚     (CLI å­è¿›ç¨‹æ¨¡å¼)
                                    â”œâ†’ llm_services.py
                                    â”‚     (OpenAI å®¢æˆ·ç«¯, FallbackModel)
                                    â””â†’ prompt_template.py
                                          (æ‰€æœ‰ LLM æç¤ºè¯æ¨¡æ¿)
```

---

### Q2: æ¯ä¸ªé˜¶æ®µçš„è¾“å…¥å’Œè¾“å‡ºåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

#### é˜¶æ®µ 1ï¼šAST è§£æä¸ä¾èµ–å›¾æ„å»º

**è¾“å…¥ï¼š** æ•´ä¸ªä»£ç ä»“åº“çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆç» `--include`/`--exclude` è¿‡æ»¤åçš„æºä»£ç æ–‡ä»¶ï¼‰ã€‚

**å¤„ç†ï¼š** tree-sitter å¯¹æ¯ä¸ªæ–‡ä»¶åšè¯­æ³•æ ‘è§£æï¼Œæå–å‡ºæ‰€æœ‰å‡½æ•°ã€ç±»ã€æ–¹æ³•çš„ç­¾å + æºä»£ç  + æ–‡ä»¶è·¯å¾„ + ä¾èµ–å…³ç³»ã€‚

**è¾“å‡ºï¼š**

| è¾“å‡ºé¡¹ | ç±»å‹ | å†…å®¹ |
|--------|------|------|
| `components` | `Dict[str, Node]` | æ‰€æœ‰ä»£ç ç»„ä»¶çš„å­—å…¸ï¼ˆID â†’ èŠ‚ç‚¹ä¿¡æ¯ï¼‰ï¼Œæ¯ä¸ª Node å«æºä»£ç ã€æ–‡ä»¶è·¯å¾„ã€è¡Œå·ã€ä¾èµ–åˆ—è¡¨ |
| `leaf_nodes` | `List[str]` | æ‰€æœ‰å¯æ–‡æ¡£åŒ–ç»„ä»¶çš„ ID åˆ—è¡¨ |

ç¤ºä¾‹ï¼ˆç®€åŒ–ï¼‰ï¼š
```python
components = {
    "core.providers.openai.OpenAIProvider": Node(
        type="class",
        relative_path="core/providers/openai.py",
        source_code="class OpenAIProvider:\n    ...",
        dependencies=["core.schemas.responses.ChatResponse"],
    ),
    "core.schemas.responses.ChatResponse": Node(
        type="class",
        source_code="class ChatResponse:\n    ...",
        dependencies=[],
    ),
    # ... å‡ ç™¾åˆ°å‡ åƒä¸ª
}

leaf_nodes = [
    "core.providers.openai.OpenAIProvider",
    "core.schemas.responses.ChatResponse",
    # ...
]
```

---

#### é˜¶æ®µ 2ï¼šå±‚æ¬¡åŒ–æ¨¡å—èšç±»

**è¾“å…¥ï¼š** æ¥è‡ªé˜¶æ®µ 1 çš„ `components` + `leaf_nodes` + é…ç½®å‚æ•°ï¼ˆ`max_token_per_module`, `max_depth`, `cluster_model`ï¼‰ã€‚

**å¤„ç†ï¼ˆé€’å½’åˆ†æ²»ï¼‰ï¼š**

1. è®¡ç®—æ‰€æœ‰ç»„ä»¶çš„æ–‡æœ¬æ€» Token æ•°
2. è‹¥ Token æ•° â‰¤ é˜ˆå€¼ â†’ ç›´æ¥ä½œä¸ºä¸€ä¸ªå¶æ¨¡å—ï¼Œåœæ­¢
3. è‹¥ Token æ•° > é˜ˆå€¼ â†’ æ„é€ èšç±» Promptï¼Œå‘ç»™ LLMï¼š
   - è¾“å…¥ï¼šæ‰€æœ‰ç»„ä»¶çš„ ID åˆ—è¡¨ï¼ˆæŒ‰æ–‡ä»¶åˆ†ç»„ï¼‰
   - LLM è¾“å‡ºï¼šæŒ‰åŠŸèƒ½è¯­ä¹‰åˆ†æˆ N ä¸ªå­ç»„
4. å¯¹æ¯ä¸ªå­ç»„é€’å½’æ‰§è¡Œæ­¥éª¤ 1-3ï¼Œç›´åˆ°æ‰€æœ‰å­ç»„éƒ½åœ¨é˜ˆå€¼å†… æˆ– è¾¾åˆ°æœ€å¤§æ·±åº¦

**è¾“å‡ºï¼š**

| è¾“å‡ºé¡¹ | æ–‡ä»¶ | å†…å®¹ |
|--------|------|------|
| `module_tree` | `first_module_tree.json` | å±‚çº§æ¨¡å—æ ‘ JSON |
| `module_tree` | `module_tree.json` | åŒä¸Šï¼ˆè¿è¡Œæ—¶å‰¯æœ¬ï¼‰ |

ç¤ºä¾‹ï¼š
```json
{
  "LLM Providers - OpenAI": {
    "components": ["core.providers.openai.OpenAIProvider", "..."],
    "children": {}
  },
  "LLM Providers - Anthropic": {
    "components": ["core.providers.anthropic.AnthropicProvider"],
    "children": {}
  },
  "Core Schemas": {
    "components": ["core.schemas.responses.ChatResponse"],
    "children": {}
  }
}
```

> `children: {}` è¡¨ç¤ºå¶æ¨¡å—ã€‚è‹¥æŸæ¨¡å—è¢«é€’å½’æ‹†åˆ†ï¼Œchildren å†…åµŒå¥—å­æ¨¡å—æ ‘ã€‚

---

#### é˜¶æ®µ 3ï¼šå¶æ¨¡å—æ–‡æ¡£ç”Ÿæˆ

**è¾“å…¥ï¼ˆæ¯ä¸ªå¶æ¨¡å—ç‹¬ç«‹æ„é€ ï¼‰ï¼š**

| è¾“å…¥é¡¹ | å†…å®¹ |
|--------|------|
| `module_name` | æ¨¡å—åï¼ˆå¦‚ `"LLM Providers - OpenAI"`ï¼‰ |
| `core_component_ids` | è¯¥æ¨¡å—åŒ…å«çš„ç»„ä»¶ ID åˆ—è¡¨ |
| `components` | é˜¶æ®µ 1 è¾“å‡ºçš„å®Œæ•´ Dictï¼ˆç”¨äºè¯»å–æºä»£ç ï¼‰ |
| `module_tree` | é˜¶æ®µ 2 çš„å®Œæ•´æ¨¡å—æ ‘ï¼ˆæä¾›å…¨å±€ä¸Šä¸‹æ–‡ï¼‰ |
| `system_prompt` | æç¤ºè¯æ¨¡æ¿ï¼ˆå†™æ–‡æ¡£çš„æ ¼å¼è¦æ±‚ + å¯ç”¨å·¥å…·è¯´æ˜ï¼‰ |

å®é™…å‘ç»™ LLM çš„ Prompt åŒ…å«ï¼š
- æ¨¡å—åœ¨å…¨å±€ä¸­çš„ä½ç½®ï¼ˆç®€åŒ–çš„æ¨¡å—æ ‘ï¼‰
- è¯¥æ¨¡å—æ‰€æœ‰ç»„ä»¶çš„**å®Œæ•´æºä»£ç **
- æ–‡æ¡£æ ¼å¼è¦æ±‚ï¼ˆMarkdown + Mermaid å›¾ï¼‰

**å¤„ç†ï¼š** pydantic-ai Agent æˆ– CLI Agent å­è¿›ç¨‹ç”Ÿæˆæ–‡æ¡£ã€‚Agent å¯è°ƒç”¨å·¥å…·é€’å½’ç”Ÿæˆå­æ–‡æ¡£ã€‚

**è¾“å‡ºï¼š** æ¯ä¸ªå¶æ¨¡å—ä¸€ä¸ª `.md` æ–‡ä»¶ï¼ˆå«æ–‡å­—æè¿° + Mermaid æ¶æ„å›¾ + æ•°æ®æµå›¾ï¼‰ã€‚

---

### Q3: å…¨å±€æ–‡æ¡£å’Œæ¨¡å—é—´å…³è”æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Ÿ

æ ¸å¿ƒæœºåˆ¶æ˜¯ **è‡ªåº•å‘ä¸Šèšåˆ** + **å°†å­æ–‡æ¡£å…¨æ–‡å–‚ç»™ LLM**ã€‚

#### å¤„ç†é¡ºåºï¼šæ‹“æ‰‘æ’åºï¼ˆå¶å…ˆã€çˆ¶åï¼‰

```
[1] OpenAI.md            â† å¶æ¨¡å—ï¼ˆå¹¶è¡Œï¼‰
[2] Anthropic.md         â† å¶æ¨¡å—ï¼ˆå¹¶è¡Œï¼‰
[3] Core Schemas.md      â† å¶æ¨¡å—ï¼ˆå¹¶è¡Œï¼‰
â”€â”€â”€â”€â”€â”€ ä»¥ä¸Šå…¨éƒ¨å®Œæˆå â”€â”€â”€â”€â”€â”€
[4] LLM Providers.md     â† çˆ¶æ¨¡å—ï¼ˆä¸²è¡Œï¼Œè¯»å– [1]+[2] çš„å…¨æ–‡ï¼‰
â”€â”€â”€â”€â”€â”€ ä»¥ä¸Šå…¨éƒ¨å®Œæˆå â”€â”€â”€â”€â”€â”€
[5] overview.md          â† å…¨å±€æ¦‚è§ˆï¼ˆè¯»å–æ‰€æœ‰æ¨¡å—çš„å…¨æ–‡ï¼‰
```

#### å…³é”®æ­¥éª¤ï¼š`build_overview_structure()`

ç”Ÿæˆçˆ¶æ¨¡å—æ–‡æ¡£æ—¶ï¼Œ`build_overview_structure()` åšäº†ä¸€ä»¶å…³é”®çš„äº‹â€”â€”**æŠŠå­æ¨¡å—çš„ .md æ–‡ä»¶å…¨æ–‡æ³¨å…¥åˆ°æ¨¡å—æ ‘ JSON ä¸­**ï¼š

```json
{
  "LLM Providers": {
    "is_target_for_overview_generation": true,
    "children": {
      "OpenAI": {
        "components": ["..."],
        "docs": "# OpenAI Provider\n\n## Overview\n..."
      },
      "Anthropic": {
        "components": ["..."],
        "docs": "# Anthropic Provider\n\n## Overview\n..."
      }
    }
  },
  "Core Schemas": { "components": ["..."] },
  "MCP": { "components": ["..."] }
}
```

- **ç›®æ ‡æ¨¡å—çš„å­æ–‡æ¡£**ï¼šæ³¨å…¥å…¨æ–‡ â†’ LLM å¯ä»¥æ€»ç»“ã€æç‚¼å…±æ€§ã€æè¿°ç»„ä»¶é—´äº¤äº’
- **å…¶ä»–æ¨¡å—**ï¼šåªä¿ç•™ç»„ä»¶åˆ—è¡¨ï¼ˆä¸å«å…¨æ–‡ï¼‰ â†’ æä¾›å…¨å±€ä½ç½®ä¸Šä¸‹æ–‡
- **`is_target_for_overview_generation`** æ ‡è®° â†’ å‘Šè¯‰ LLM åªä¸ºè¿™ä¸ªæ¨¡å—å†™æ¦‚è§ˆ

#### å…¨å±€ overview.md

å½“ç”Ÿæˆæœ€ç»ˆ `overview.md` æ—¶ï¼Œæ‰€æœ‰é¡¶å±‚æ¨¡å—çš„ `.md` å…¨æ–‡éƒ½è¢«æ³¨å…¥ã€‚LLM æ‹¿åˆ°å…¨éƒ¨æ–‡æ¡£åèƒ½å¤Ÿï¼š

- è¯†åˆ«è·¨æ¨¡å—çš„ä¾èµ–ï¼ˆå¦‚ OpenAI Provider ä½¿ç”¨äº† Core Schemas çš„ ChatResponseï¼‰
- ç”»å‡ºç«¯åˆ°ç«¯æ¶æ„å›¾
- æè¿°å„æ¨¡å—ä¹‹é—´çš„åä½œå…³ç³»

#### å…³è”ä¿¡æ¯çš„ä¸‰å±‚æ¥æº

| å±‚çº§ | é˜¶æ®µ | ä¿¡æ¯æ¥æº |
|------|------|---------|
| â‘  å¶æ¨¡å—æ–‡æ¡£å†… | é˜¶æ®µ 3 | LLM è¾“å…¥é‡ŒåŒ…å«æ•´æ£µ module_tree çš„ç®€è¦ç»“æ„ â†’ å¶æ–‡æ¡£é‡Œå·²å¯æåˆ°"ä¾èµ– Core Schemas æ¨¡å—" |
| â‘¡ çˆ¶æ¨¡å—æ¦‚è§ˆ | é˜¶æ®µ 4 | LLM è¾“å…¥é‡ŒåŒ…å«æ‰€æœ‰å­æ¨¡å—æ–‡æ¡£çš„**å…¨æ–‡** â†’ å¯ä»¥æ€»ç»“å…±æ€§ã€æè¿°å­æ¨¡å—é—´äº¤äº’ |
| â‘¢ å…¨å±€ overview | é˜¶æ®µ 4 | LLM è¾“å…¥é‡ŒåŒ…å«æ‰€æœ‰é¡¶å±‚æ¨¡å—æ–‡æ¡£çš„**å…¨æ–‡** â†’ ç”Ÿæˆç«¯åˆ°ç«¯æ¶æ„å›¾ + æ¨¡å—é—´äº¤äº’æè¿° |

> **ä¸€å¥è¯æ€»ç»“ï¼š** å…³è”æ–‡æ¡£ä¸æ˜¯é€šè¿‡ä»£ç åˆ†æç›´æ¥äº§å‡ºçš„ï¼Œè€Œæ˜¯é€šè¿‡**é€å±‚æŠŠå­æ–‡æ¡£å…¨æ–‡å–‚ç»™ LLM**ï¼Œè®© LLM è¯»æ‡‚æ¨¡å—ä¹‹é—´çš„å…³ç³»åï¼Œè‡ªå·±å†™å‡ºè·¨æ¨¡å—çš„æ¶æ„æè¿°å’Œ Mermaid å›¾ã€‚è¿™å°±æ˜¯"è‡ªåº•å‘ä¸Šåˆæˆ"çš„æ ¸å¿ƒå«ä¹‰ã€‚

---

### Q4: æ ¸å¿ƒè®¾è®¡æ€æƒ³

| è®¾è®¡ | è§£å†³çš„é—®é¢˜ | å®ç°æœºåˆ¶ |
|------|-----------|---------|
| **å±‚æ¬¡åŒ–åˆ†æ²»** | ä»£ç åº“å¤ªå¤§ï¼Œè¶…å‡ºä¸Šä¸‹æ–‡çª—å£ | é€’å½’èšç±» â†’ æŠŠå¤§é—®é¢˜æ‹†æˆ LLM èƒ½å¤„ç†çš„å°å— |
| **è‡ªåº•å‘ä¸Šåˆæˆ** | éœ€è¦å…¨å±€è§†è§’ï¼Œä½†åªèƒ½çœ‹å±€éƒ¨ | å…ˆç”Ÿæˆå¶æ–‡æ¡£ â†’ é€å±‚èšåˆ â†’ æœ€ç»ˆäº§å‡ºå…¨å±€æ¦‚è§ˆ |
| **é€’å½’ Agent å§”æ´¾** | å•ä¸ªæ¨¡å—å†…éƒ¨ä¹Ÿå¯èƒ½å¾ˆå¤æ‚ | Agent å¯è°ƒç”¨å·¥å…·é€’å½’ç”Ÿæˆå­æ–‡æ¡£ï¼ˆ`generate_sub_module_documentation`ï¼‰ |
| **å¤šæ¨¡æ€è¾“å‡º** | çº¯æ–‡å­—ä¸å¤Ÿç›´è§‚ | Prompt è¦æ±‚ Agent è¾“å‡º Mermaid æ¶æ„å›¾ã€æ•°æ®æµå›¾ã€åºåˆ—å›¾ |
| **ç­–ç•¥æ¨¡å¼** | éœ€æ”¯æŒå¤šç§è¯­è¨€ | æ¯ç§è¯­è¨€ä¸€ä¸ª Analyzer å­ç±»ï¼ˆ`BaseAnalyzer` ç»§æ‰¿ï¼‰ï¼Œæ³¨å†Œå³ç”¨ |
